# Builtin Version Parsing Patterns
# This file contains regex patterns for extracting versions from SDK distribution paths
# Users can also define custom patterns in their strigo.toml configuration
#
# IMPORTANT FEATURES:
# - All patterns use (?i) flag for CASE-INSENSITIVE matching
# - This allows matching: OpenJDK, openjdk, OPENJDK, OpenJdk, etc.
# - Improves robustness across different repository naming conventions
# - Handles legacy repositories, build systems, mirrors, and manual uploads
#
# PATTERN STRUCTURE:
# [[patterns]]
# name = "provider-name"           # Unique identifier for the pattern set
# type = "jdk"                      # SDK type (jdk, node, python, etc.)
# description = "..."               # Human-readable description
# patterns = [                      # Array of regex patterns (tried in order)
#     "(?i)pattern1...",            # Case-insensitive pattern 1
#     "(?i)pattern2...",            # Case-insensitive pattern 2
# ]

# ============================================================================
# JDK DISTRIBUTIONS
# ============================================================================

# Temurin (AdoptOpenJDK) - Eclipse Foundation
[[patterns]]
name = "temurin"
type = "jdk"
description = "Eclipse Temurin (formerly AdoptOpenJDK)"
# Examples: jdk-11.0.26_4, jdk_x64_linux_hotspot_11.0.26_4.tar.gz, OpenJDK23-jdk_x64_linux_hotspot_23_37
# Case-insensitive patterns to handle various repository naming conventions
patterns = [
    "(?i)jdk-(\\d+\\.\\d+\\.\\d+_\\d+)",
    "(?i)jdk_x64_linux_hotspot_(\\d+\\.\\d+\\.\\d+_\\d+)",
    "(?i)OpenJDK\\d+U-jdk_x64_linux_hotspot_(\\d+\\.\\d+\\.\\d+_\\d+)",
    "(?i)OpenJDK\\d+-jdk_x64_linux_hotspot_(\\d+_\\d+)",
]

# Corretto - Amazon
[[patterns]]
name = "corretto"
type = "jdk"
description = "Amazon Corretto"
# Examples: corretto-11.0.26.4.1, amazon-corretto-11.0.26.4.1-linux-x64.tar.gz
# Case-insensitive patterns to handle various repository naming conventions
patterns = [
    "(?i)corretto-(\\d+\\.\\d+\\.\\d+\\.\\d+(?:\\.\\d+)?)",
    "(?i)amazon-corretto-(\\d+\\.\\d+\\.\\d+\\.\\d+(?:\\.\\d+)?)",
]

# Zulu - Azul Systems
[[patterns]]
name = "zulu"
type = "jdk"
description = "Azul Zulu OpenJDK"
# Examples: zulu11.74.15-ca-jdk11.0.24, zulu17.60.17-ca-crac-jdk17.0.16, zulu21.44.17-ca-fx-jdk21.0.8
patterns = [
    "(?i)zulu\\d+\\.\\d+\\.\\d+-(?:ca|beta)-(?:crac-|fx-)?jdk(\\d+\\.\\d+\\.\\d+(?:\\.\\d+)?(?:-beta\\.\\d+)?)",
    "(?i)zulu\\d+\\.\\d+\\.\\d+\\.\\d+-(?:ca|beta)-(?:crac-|fx-)?jdk(\\d+\\.\\d+\\.\\d+(?:\\.\\d+)?(?:-beta\\.\\d+)?)",
]

# GraalVM
[[patterns]]
name = "graalvm"
type = "jdk"
description = "GraalVM (Oracle)"
# Examples: graalvm-ce-java11-22.3.0, graalvm-jdk-17.0.11+7.1, graalvm-community-jdk-25.0.1_linux-x64
patterns = [
    "(?i)graalvm-ce-java\\d+-(\\d+\\.\\d+\\.\\d+)",
    "(?i)graalvm-jdk-(\\d+\\.\\d+\\.\\d+\\+\\d+(?:\\.\\d+)?)",
    "(?i)graalvm-community-openjdk-(\\d+\\.\\d+\\.\\d+\\+\\d+)",
    "(?i)graalvm-community-jdk-(\\d+\\.\\d+\\.\\d+)_linux",
]

# Mandrel - GraalVM-based native image
[[patterns]]
name = "mandrel"
type = "jdk"
description = "Mandrel (Red Hat GraalVM)"
# Examples: mandrel-java21-linux-amd64-23.1.9.0-Final.tar.gz, 25.0.1.r25-mandrel
patterns = [
    "(?i)mandrel-java\\d+-linux-amd64-(\\d+\\.\\d+\\.\\d+\\.\\d+)-Final",
    "(\\d+\\.\\d+\\.\\d+\\.r\\d+)-mandrel",
]

# Liberica - BellSoft
[[patterns]]
name = "liberica"
type = "jdk"
description = "BellSoft Liberica JDK"
# Examples: bellsoft-jdk11.0.24+9, liberica-jdk-11.0.24-linux-x64.tar.gz
patterns = [
    "(?i)bellsoft-jdk(\\d+\\.\\d+\\.\\d+\\+\\d+)",
    "(?i)liberica-jdk-(\\d+\\.\\d+\\.\\d+)",
]

# Oracle JDK
[[patterns]]
name = "oracle"
type = "jdk"
description = "Oracle JDK"
# Examples: jdk-11.0.24, jdk-17.0.11
patterns = [
    "jdk-(\\d+\\.\\d+\\.\\d+)",
    "jdk-(\\d+u\\d+)",
]

# SAP Machine
[[patterns]]
name = "sapmachine"
type = "jdk"
description = "SAP Machine OpenJDK"
# Examples: sapmachine-jdk-11.0.24, sapmachine-17.0.11
patterns = [
    "(?i)sapmachine-jdk-(\\d+\\.\\d+\\.\\d+)",
    "(?i)sapmachine-(\\d+\\.\\d+\\.\\d+)",
]

# Microsoft OpenJDK
[[patterns]]
name = "microsoft"
type = "jdk"
description = "Microsoft Build of OpenJDK"
# Examples: microsoft-jdk-11.0.24, microsoft-jdk-17.0.11-linux-x64.tar.gz
patterns = [
    "(?i)microsoft-jdk-(\\d+\\.\\d+\\.\\d+)",
]

# Semeru (IBM)
[[patterns]]
name = "semeru"
type = "jdk"
description = "IBM Semeru Runtime"
# Examples: ibm-semeru-open-jdk-11.0.24_8, semeru11-11.0.24_8
patterns = [
    "(?i)ibm-semeru-open-jdk-(\\d+\\.\\d+\\.\\d+_\\d+)",
    "(?i)semeru\\d+-(\\d+\\.\\d+\\.\\d+_\\d+)",
]

# Dragonwell - Alibaba
[[patterns]]
name = "dragonwell"
type = "jdk"
description = "Alibaba Dragonwell"
# Examples: dragonwell-11.0.24.9, Alibaba_Dragonwell_Extended_11.0.24.9
patterns = [
    "(?i)dragonwell-(\\d+\\.\\d+\\.\\d+\\.\\d+)",
    "(?i)Alibaba_Dragonwell_(?:Standard|Extended)_(\\d+\\.\\d+\\.\\d+\\.\\d+)",
]

# OpenJ9
[[patterns]]
name = "openj9"
type = "jdk"
description = "Eclipse OpenJ9"
# Examples: openj9-jdk11-0.48.0, ibm-semeru-open-jdk-11.0.24_8-openj9-0.48.0
patterns = [
    "(?i)openj9-jdk\\d+-(\\d+\\.\\d+\\.\\d+)",
    "jdk-(\\d+\\.\\d+\\.\\d+_\\d+)-openj9",
]

# Legacy Java 8 pattern (8u442b06 format)
[[patterns]]
name = "java8-legacy"
type = "jdk"
description = "Legacy Java 8 versioning (8uXXXbYY)"
# Examples: 8u442b06, 8u432b06
patterns = [
    "(\\d+u\\d+b\\d+)",
]

# ============================================================================
# NODE.JS
# ============================================================================

[[patterns]]
name = "nodejs"
type = "node"
description = "Node.js runtime"
# Examples: node-v22.13.1-linux-x64, node-v20.18.1
patterns = [
    "(?i)node-v(\\d+\\.\\d+\\.\\d+)-linux-x64",
    "(?i)node-v(\\d+\\.\\d+\\.\\d+)",
]

# ============================================================================
# PYTHON
# ============================================================================

[[patterns]]
name = "python"
type = "python"
description = "Python interpreter"
# Examples: Python-3.12.1, python-3.11.7-linux-x64
patterns = [
    "(?i)Python-(\\d+\\.\\d+\\.\\d+)",
    "(?i)python-(\\d+\\.\\d+\\.\\d+)",
]

# ============================================================================
# GO
# ============================================================================

[[patterns]]
name = "golang"
type = "go"
description = "Go programming language"
# Examples: go1.22.1.linux-amd64.tar.gz, go1.21.6
patterns = [
    "(?i)go(\\d+\\.\\d+\\.\\d+)\\.linux-amd64",
    "(?i)go(\\d+\\.\\d+\\.\\d+)",
]

# ============================================================================
# RUST
# ============================================================================

[[patterns]]
name = "rust"
type = "rust"
description = "Rust programming language"
# Examples: rust-1.75.0-x86_64-unknown-linux-gnu
patterns = [
    "(?i)rust-(\\d+\\.\\d+\\.\\d+)",
]

# ============================================================================
# .NET
# ============================================================================

[[patterns]]
name = "dotnet"
type = "dotnet"
description = ".NET SDK"
# Examples: dotnet-sdk-8.0.101-linux-x64.tar.gz
patterns = [
    "(?i)dotnet-sdk-(\\d+\\.\\d+\\.\\d+)",
]

# ============================================================================
# MAVEN
# ============================================================================

[[patterns]]
name = "maven"
type = "maven"
description = "Apache Maven"
# Examples: apache-maven-3.9.6-bin.tar.gz
patterns = [
    "(?i)apache-maven-(\\d+\\.\\d+\\.\\d+)",
]

# ============================================================================
# GRADLE
# ============================================================================

[[patterns]]
name = "gradle"
type = "gradle"
description = "Gradle Build Tool"
# Examples: gradle-8.5-bin.zip
patterns = [
    "(?i)gradle-(\\d+\\.\\d+(?:\\.\\d+)?)",
]

# ============================================================================
# FALLBACK PATTERNS
# ============================================================================

# Generic version in path (v-prefixed)
[[patterns]]
name = "generic-v-prefix"
type = "*"
description = "Generic versioning with v prefix"
patterns = [
    "/v(\\d+\\.\\d+\\.\\d+)",
]

# Generic version in filename
[[patterns]]
name = "generic-version"
type = "*"
description = "Generic semantic versioning"
patterns = [
    "(\\d+\\.\\d+\\.\\d+)",
]
